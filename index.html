<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="css/normalize.css">

		<link rel="stylesheet" href="js/codemirror/lib/codemirror.css">
		<link rel="stylesheet" href="css/common.css">
		<link rel="stylesheet" href="css/style.css">

		<script src="js/jquery-1.9.0.min.js"></script>
		<script src="js/esprima.js"></script>
		<script src="js/betterexamples.js"></script>
		<script src="js/betterexamples.editor.codemirror.js"></script>

		<!-- Codemirror -->
	    <script src="js/codemirror/lib/codemirror.js"></script>
	    <script src="js/codemirror/lib/util/continuecomment.js"></script>
	    <script src="js/codemirror/mode/javascript/javascript.js"></script>

		<script>
			$(function() {
				
				var example = new BetterExample(".codeinput", ".codeoutput", {id:"maincode",editor:'codemirror'});

				$(".runbutton").click(function() {
					console.log(example.getCode());
					$(".totalresult").html("<iframe src='sandbox.html?css=" + encodeURIComponent($(".style").val()).replace(/'/g,"%27") + 
						"&body=" + encodeURIComponent($(".body").val()).replace(/'/g,"%27") + 
						"&js=" + encodeURIComponent(example.getCode()).replace(/'/g,"%27") + 
						"'></iframe>");
				});

				var editor = CodeMirror.fromTextArea(document.getElementById("code"), {mode: mixedMode, tabMode: "indent"});

			});
		</script>
	</head>
	<body>
		<div class='projects'>
			<div class='column'>
				<ul>
					<li class='active'><a>Sandbox.js</a></li>
				</ul>
				<div class='filters'>

				</div>
			</div>
		</div>
		<div class='project'>
			<div class='top'>
				<div class='column'>
					<h1 class='shadowinset'>Sandbox.js</h1>
					<p>Playground for JS, CSS, HTML</p>
					<button class='runbutton'>Run</button>
				</div>
			</div>
			<div class='container'>
				<div class='totalresult'>
					<iframe></iframe>
				</div>
				<div class='totalinput'>
					<div>&lt;html&gt;
						<div>&lt;head&gt;
							<div>&lt;style&gt;
								<textarea class='style'></textarea>
							&lt;/style&gt;</div>
							<div>&lt;script&gt;
								<div class='codeeditor'>
									<textarea class='codeinput'></textarea>
									<div class='codeoutput'></div>
									<div class='clearfix'>.</div>
								</div>
							&lt;/script&gt;</div>
						&lt;/head&gt;</div>
						<div>&lt;body&gt;
							<textarea class='body'></textarea>
						&lt;/body&gt;</div>
					&lt;/html&gt;</div>
				</div>
				<div class='clearfix'>.</div>
			</div>
		</div>
		<div class='footer'>
			<div class='column'>
				<p>
					<a class='btn btn-grey' href='#'>Back to top</a>
				</p>
			</div>
		</div>
		<script type="text/javascript">
		  
		  // Analytics

		</script>
	</body>
</html>